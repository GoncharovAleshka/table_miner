# micropm
Динамическая актуализация процессов встраиваемых систем на целевой платформе.
# Описание проекта
micropm/table_miner - это реализация метода с предварительно подготовленными таблицами переходов между событиями в системе.
Метод позволяет получать актуальную модель процессов в системе, учитывая частотные характеристики, а также контролировать время между переходами событий.

Разработан метод, позволяющий производить дополнение формальной модели процессов по факту получения новых событий с различных компонентов системы. На рисунке ниже представлена структура метода.

![image](https://github.com/GoncharovAleshka/micropm/assets/107398636/a393ff13-eb2c-4343-9f97-b8c603eae85e)

micropm/examples/pc_test - пример использования реализации метода для ПК

micropm/examples/nucleo_f103rb_test - пример использования реализации метода для МК (NUCLEO-F103RB + Stm32CubeIde)

На рисунке ниже представлен пример использования предлагаемого метода.

Разработчик программного обеспечения микроконтроллеров должен:
- подключить заголовочный файл с функциями разработанной библиотеки (micropm/table_miner.h);
- определить количество регистрируемых событий в системе;
- инициализировать таблицы (init_event_table);
- инициализировать временные ограничения между событиями (add_limit);
- явно добавить событие в модель в необходимых местах (add_event);
- произвести вывод формальной модели на инструментальный компьютер для анализа через какой-либо интерфейс или через прямое чтение памяти микроконтроллера.

```
#include "micropm/table_miner.h"

#define EVENTS_NUM 100

void init()
{
    init_event_table(EVENTS_NUM);
    
    //инициализация временных ограничений
    add_limit(1, 3, 10); // время между событиями 1 и 3 не более 10ms 
    ...
    add_limit(2, 4, 50); // время между событиями 2 и 4 не более 50ms 
}

void f1() {
    ...
    add_event(1, current_time); // произошло событие 1, добавляем его в модель
    ...
}

void f2() {
    ...
    add_event(2, current_ time); // произошло событие 2, добавляем его в модель
    ...
}
```
На рисунке ниже представлен вывод для тестовых программ с использованием предлагаемого метода.

Красным отмечены переходы, не удовлетворяющие временным ограничениям между событиями.

![graphviz (24)](https://github.com/GoncharovAleshka/micropm/assets/107398636/e92b137e-3d8f-448f-a26b-6d7c26b059c4)

Преимущества предлагаемого метода:
- заранее известное для разработчика количество необходимой памяти
- известная скорость быстродействия системы
- реализация метода не зависит от платформы внедрения
- модель на выходе представляет собой событийный граф
  
Недостатки:
- невозможность рассмотреть весь журнал событий системы и определить всю хронологию событий до возникновения ошибки

# Публикации
Гончаров А. А., Быковский С. В. Метод восстановления модели процессов во встроенных системах по журналу событий // Известия высших учебных заведений. Поволжский регион. Технические науки. 2023. № 3. С. 5–17. doi: 10.21685/2072-3059-2023-3-1
https://izvuz_tn.pnzgu.ru/files/izvuz_tn.pnzgu.ru/01323.pdf
